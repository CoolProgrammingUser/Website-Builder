<!DOCTYPE html>
<html class="html-class">
    <head>
        <title>
            Website Builder
        </title>
        <script>
            var Standards = {};
            Standards.options = {"simplification" : true};
        </script>
        <script src="https://epicenterprograms.github.io/standards/behavior.js"></script>
        <script>
            var html = "";
            S.listen("advanced", "click", function() {
                if (this.innerHTML.trim() == "Show advanced choices") {
                    S.getId("advancedSection").style.display = "inline-block";
                    this.innerHTML = "Hide advanced choices";
                } else {
                    S.getId("advancedSection").style.display = "none";
                    this.innerHTML = "Show advanced choices";
                }
            });
            S.listen("navigation", "click", function() {
                if (this.checked) {
                    S.getId("navigationSection").style.display = "inline-block";
                } else {
                    S.getId("navigationSection").style.display = "none";
                }
            });
            S.listen("externalStyles", "click", function() {
                if (this.checked) {
                    S.getId("externalStylingSection").style.display = "inline-block";
                } else {
                    S.getId("externalStylingSection").style.display = "none";
                }
            });
            S.listen("addStyling", "click", function() {
                
            });
            S.listen("finish", "click", function() {
                html = "";
                function tabs(number) {
                    return "    ".repeat(number);
                }
                html += '<!DOCTYPE html>\n';
                html += '<!-- made with Epicenter website builder -->\n';
                html += '<html class="html-class">\n';
                html += '    <head>\n';
                html += '        <title>\n';
                html += tabs(3) + S.getId("title").value + '\n';
                html += '        </title>\n';
                if (S.getId("navSource").value) {
                    html += '        <script>\n';
                    html += tabs(3) + 'var Standards = {};\n';
                    html += tabs(3) + 'Standards.options = {\n';
                    html += tabs(4) + '"navigation": "' + S.getId("navSource").value + '"\n';
                    html += tabs(3) + '};\n';
                    html += '        </' + 'script>\n';
                }
                html += '        <script src="https://epicenterprograms.github.io/standards/behavior.js"></' + 'script>\n';
                html += '        <link rel="stylesheet" href="https://epicenterprograms.github.io/standards/formatting.css">\n';
                html += '    </head>\n';
                if (S.getName("navChoice", true).id == "leftNav") {
                    html += '    <body class="left-nav">\n';
                    html += '        <nav class="left-nav"></nav>\n';
                } else {
                    html += '    <body>\n';
                }
                if (S.getName("navChoice", true).id == "hiddenLeftNav") {
                    html += '        <nav class="hidden-left-nav"></nav>\n';
                }
                if (S.getId("signIn").checked) {
                    html += '        <button id="loginButton">\n';
                    html += tabs(3) + 'Log in\n';
                    html += '        </button>\n';
                }
                html += '        <h1 class="main-title">\n';
                html += tabs(3) + S.getId("title").value + '\n';
                html += '        </h1>\n';
                if (S.getName("navChoice", true).id == "topNav") {
                    html += '        <nav class="top-nav"></nav>\n';
                }
                html += '        <main>\n';
                html += tabs(3) + '<p>\n';
                html += tabs(4) + 'Put your content here.\n';
                html += tabs(3) + '</p>\n';
                html += '        </main>\n';
                html += '    </body>\n';
                html += '</html>\n';
                S.getTag("textarea")[0].value = html;
            });
            S.listen("preview", "click", function() {
                var preview = window.open();
                if (preview) {  // if pop-ups are allowed
                    preview.document.write(html);
                    preview.focus();
                } else {
                    S.makeDialog(
                        "You have to allow pop-ups<br>for the preview to appear.",
                        ["Okay", function() {return;}]
                    );
                }
            });
            S.listen("startOver", "click", function() {
                [/*"navigation", "leftNav", "hiddenLeftNav", "topNav"*/].forEach(function(ID) {
                    S.getId(ID).checked = false;
                });
                S.getId("signIn").checked = true;
                ["title", "copier"].forEach(function(ID) {
                    S.getId(ID).value = "";
                });
                ["navChoice"].forEach(function(ID) {
                    S.getName(ID).forEach(function(radioButton) {
                        radioButton.value = "";
                    }, false);
                });
                S.getTag("textarea")[0].value = "";
            });
        </script>
        <link rel="stylesheet" href="https://epicenterprograms.github.io/standards/formatting.css">
        <style>
            button {
                display: block;
                margin: 1em auto;
            }
            input[type="text"] {
                display: block;
                margin: 1em auto;
            }
            textarea {
                white-space: pre;
                font-family: monospace;
            }
            .group {
                display: none;
                border: .05em solid #00aaee;
                padding: .5em;
            }
            .block {
                display: block;
            }
            span.necessary {
                display: block;
            }
            .necessary input[type="text"] {
                display: inline-block;
            }
            .necessary::after {
                content: "*";
                color: red;
            }
            .clickable:hover {
                background-color: rgba(255, 255, 255, .25);
            }
            .big-plus {
                position: relative;
                top: .05em;
                font-size: 1.5em;
                font-weight: bold;
            }
        </style>
    </head>
    <body>
        <h1 class="main-title">
            Website Builder
        </h1>
        <main>
            <p>
                Enter specifications for your website. Necessary fields have a red asterisk.
            </p>
            <span class="necessary"><input type="text" placeholder="Title" id="title"></span>
            <input type="checkbox" id="navigation">
            <label for="navigation">Navigation section</label>
            <div class="block">
                <div class="group" id="navigationSection">
                    <input type="text" placeholder="Navigation source" id="navSource">
                    <input type="radio" name="navChoice" id="leftNav">
                    <label for="leftNav">Left positioned contents</label>
                    <br>
                    <br>
                    <input type="radio" name="navChoice" id="hiddenLeftNav">
                    <label for="hiddenLeftNav">Hidden contents on the left</label>
                    <br>
                    <br>
                    <input type="radio" name="navChoice" id="topNav">
                    <label for="topNav">Contents on the top of the page</label>
                </div>
            </div>
            <input type="checkbox" id="externalStyles">
            <label for="externalStyles">Add external styling</label>
            <div class="block">
                <div class="group" id="externalStylingSection">
                    <div class="clickable" id="addStyling">
                        <span class="big-plus">+</span>&ensp;Add a style input
                    </div>
                </div>
            </div>
            <button id="advanced">
                Show advanced choices
            </button>
            <div class="block">
                <div class="group" id="advancedSection">
                    <input type="text" placeholder="Enter a replication code" id="copier">
                    <input type="checkbox" id="signIn" checked>
                    <label for="signIn">Log-in section</label>
                </div>
            </div>
            <button id="finish">
                Finish
            </button>
            <br>
            <br>
            <button id="preview">
                View preview
            </button>
            <br>
            <br>
            <textarea cols="80" rows="20"></textarea>
            <br>
            <br>
            <button id="startOver">
                Start over
            </button>
        </main>
    </body>
</html>
